(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{11:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__3NvYh",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__2BTnM"}},12:function(e,t,a){e.exports={Overlay:"Modal_Overlay__14rKd",Modal:"Modal_Modal__1Bq0D"}},22:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__1uugz"}},23:function(e,t,a){e.exports={Button:"Button_Button__3vJVC"}},25:function(e,t,a){e.exports={spin:"Loader_spin__3Dx2N"}},5:function(e,t,a){e.exports={App:"SearchBar_App__UJwCz",Searchbar:"SearchBar_Searchbar__2ncaH",SearchForm:"SearchBar_SearchForm__SbCm2",SearchFormButton:"SearchBar_SearchFormButton__jTdRD",SearchFormButtonLabel:"SearchBar_SearchFormButtonLabel__1Np9j",SearchFormInput:"SearchBar_SearchFormInput__3heNi"}},70:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(7),o=a.n(r),i=a(13),u=a(4),s=a(5),l=a.n(s),m=a(1);function j(e){var t=e.onSubmit,a=Object(n.useState)(""),c=Object(u.a)(a,2),r=c[0],o=c[1];return Object(m.jsx)("header",{className:l.a.Searchbar,children:Object(m.jsxs)("form",{className:l.a.SearchForm,onSubmit:function(e){e.preventDefault(),t(r),o("")},children:[Object(m.jsx)("button",{type:"submit",className:l.a.SearchFormButton,children:Object(m.jsx)("span",{className:l.a.SearchFormButtonLabel,children:"Search"})}),Object(m.jsx)("input",{className:l.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:r,onChange:function(e){o(e.currentTarget.value)}})]})})}var b=a(11),h=a.n(b),d=function(e){var t=e.id,a=e.previewImage,n=e.toggle;return Object(m.jsx)("li",{className:h.a.ImageGalleryItem,onClick:n,children:Object(m.jsx)("img",{src:a,alt:"",className:h.a.ImageGalleryItemImage})},t)},f=a(22),g=a.n(f),p=function(e){var t=e.items,a=e.toggle;return Object(m.jsx)("ul",{className:g.a.ImageGallery,children:t.map((function(e){var t=e.id,n=e.webformatURL,c=e.largeImageURL;return Object(m.jsx)(d,{id:t,previewImage:n,toggle:function(){return a(c)}},t)}))})},O=a(23),_=a.n(O),S=function(e){var t=e.onClick;return Object(m.jsx)("button",{className:_.a.Button,type:"submit",onClick:function(){return t()},children:"Load More"})},x=a(24),I=a.n(x),v=(a(51),a(25)),y=a.n(v),B=function(){return Object(m.jsx)("div",{className:y.a.spin,children:Object(m.jsx)(I.a,{type:"Hearts",color:"#00BFFF",height:80,width:80,timeout:3e4})})},w=a(12),F=a.n(w),N=document.querySelector("#modal-root");function G(e){var t=e.onClose,a=e.bigImage;Object(n.useEffect)((function(){return window.addEventListener("keydown",c),function(){window.removeEventListener("keydown",c)}}));var c=function(e){"Escape"===e.code&&t()};return Object(r.createPortal)(Object(m.jsx)("div",{className:F.a.Overlay,children:Object(m.jsx)("div",{className:F.a.Modal,children:Object(m.jsx)("img",{src:a,alt:""})})}),N)}var C=a(9),k=a.n(C),L="20407857-5cbc70afd557f45317642044e";k.a.defaults.baseURL="https://pixabay.com/api/",k.a.defaults.params={key:L,image_type:"photo",orientation:"horizontal",per_page:12};var E=function(e,t){return k.a.get("?q=".concat(e,"&page=").concat(t,"&key=").concat(L,"&")).then((function(e){return e.data.hits}))};function M(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(1),o=Object(u.a)(r,2),s=o[0],l=o[1],b=Object(n.useState)(""),h=Object(u.a)(b,2),d=h[0],f=h[1],g=Object(n.useState)(!1),O=Object(u.a)(g,2),_=O[0],x=O[1],I=Object(n.useState)(!1),v=Object(u.a)(I,2),y=v[0],w=v[1],F=Object(n.useState)(""),N=Object(u.a)(F,2),C=N[0],k=N[1];Object(n.useEffect)((function(){d&&L()}),[d]),Object(n.useEffect)((function(){s>2&&M()}),[s]);var L=function(){x(!0),E(d,s).then((function(e){c((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e))})),l((function(e){return e+1}))})).finally((function(){return x(!1)}))},M=function(){window.scrollBy({top:document.documentElement.clientHeight,behavior:"smooth"})},D=function(){w(!y)};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(j,{onSubmit:function(e){f(e),l(1),c([])}}),Object(m.jsx)(p,{items:a,toggle:function(e){k(e),D()}}),a.length>0&&!_&&Object(m.jsx)(S,{onClick:L}),_&&Object(m.jsx)(B,{}),y&&Object(m.jsx)(G,{onClose:D,bigImage:C})]})}o.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(M,{})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.68a89930.chunk.js.map